!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ImageBlur",[],t):"object"==typeof exports?exports.ImageBlur=t():e.ImageBlur=t()}(this,function(){return function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,r,a){var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];"string"==typeof e&&(e=document.getElementById(e)),"string"==typeof t&&(t=document.getElementById(t));var i=e.naturalWidth,c=e.naturalHeight;r=r||c/i*10,t.width=i,t.height=c;var u=t.getContext("2d");if(u.clearRect(0,0,i,c),u.drawImage(e,0,0),!(isNaN(r)||r<1)){var l=function(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};!function(e,t,r,a,i,c,u){c|=0;var f;try{try{f=e.getImageData(t,r,a,i)}catch(n){try{window.netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),f=e.getImageData(t,r,a,i)}catch(e){throw alert("Cannot access local image"),new Error("unable to access local image data: "+e)}}}catch(e){throw alert("Cannot access image"),new Error("unable to access image data: "+e)}var s,g,d,p,b,x,m,h,v,y,w,I,j,B,P,E,O,_,C,D,M,N,R,H,U,W=f.data,k=c+c+1,q=a-1,z=i-1,A=c+1,F=A*(A+1)/2,G=new l,J=G;for(d=1;d<k;d++)J=J.next=new l,d==A&&(U=J);J.next=G;var K=null,L=null;m=x=0;var Q=n[c],S=o[c];for(g=0;g<i;g++){for(E=O=_=C=h=v=y=w=0,I=A*(D=W[x]),j=A*(M=W[x+1]),B=A*(N=W[x+2]),u&&(P=A*(R=W[x+3])),h+=F*D,v+=F*M,y+=F*N,u&&(w+=F*R),J=G,d=0;d<A;d++)J.r=D,J.g=M,J.b=N,u&&(J.a=R),J=J.next;for(d=1;d<A;d++)p=x+((q<d?q:d)<<2),h+=(J.r=D=W[p])*(H=A-d),v+=(J.g=M=W[p+1])*H,y+=(J.b=N=W[p+2])*H,u&&(w+=(J.a=R=W[p+3])*H),E+=D,O+=M,_+=N,u&&(C+=R),J=J.next;for(K=G,L=U,s=0;s<a;s++)u?(W[x+3]=R=w*Q>>S,0!=R?(R=255/R,W[x]=(h*Q>>S)*R,W[x+1]=(v*Q>>S)*R,W[x+2]=(y*Q>>S)*R):W[x]=W[x+1]=W[x+2]=0):(W[x]=h*Q>>S,W[x+1]=v*Q>>S,W[x+2]=y*Q>>S),h-=I,v-=j,y-=B,u&&(w-=P),I-=K.r,j-=K.g,B-=K.b,u&&(P-=K.a),p=m+((p=s+c+1)<q?p:q)<<2,E+=K.r=W[p],O+=K.g=W[p+1],_+=K.b=W[p+2],u&&(C+=K.a=W[p+3]),h+=E,v+=O,y+=_,u&&(w+=C),K=K.next,I+=D=L.r,j+=M=L.g,B+=N=L.b,u&&(P+=R=L.a),E-=D,O-=M,_-=N,u&&(C-=R),L=L.next,x+=4;m+=a}for(s=0;s<a;s++){for(O=_=C=E=v=y=w=h=0,x=s<<2,I=A*(D=W[x]),j=A*(M=W[x+1]),B=A*(N=W[x+2]),u&&(P=A*(R=W[x+3])),h+=F*D,v+=F*M,y+=F*N,u&&(w+=F*R),J=G,d=0;d<A;d++)J.r=D,J.g=M,J.b=N,u&&(J.a=R),J=J.next;for(b=a,d=1;d<=c;d++)x=b+s<<2,h+=(J.r=D=W[x])*(H=A-d),v+=(J.g=M=W[x+1])*H,y+=(J.b=N=W[x+2])*H,u&&(w+=(J.a=R=W[x+3])*H),E+=D,O+=M,_+=N,u&&(C+=R),J=J.next,d<z&&(b+=a);for(x=s,K=G,L=U,g=0;g<i;g++)p=x<<2,u?(W[p+3]=R=w*Q>>S,R>0?(R=255/R,W[p]=(h*Q>>S)*R,W[p+1]=(v*Q>>S)*R,W[p+2]=(y*Q>>S)*R):W[p]=W[p+1]=W[p+2]=0):(W[p]=h*Q>>S,W[p+1]=v*Q>>S,W[p+2]=y*Q>>S),h-=I,v-=j,y-=B,u&&(w-=P),I-=K.r,j-=K.g,B-=K.b,u&&(P-=K.a),p=s+((p=g+A)<z?p:z)*a<<2,h+=E+=K.r=W[p],v+=O+=K.g=W[p+1],y+=_+=K.b=W[p+2],u&&(w+=C+=K.a=W[p+3]),K=K.next,I+=D=L.r,j+=M=L.g,B+=N=L.b,u&&(P+=R=L.a),E-=D,O-=M,_-=N,u&&(C-=R),L=L.next,x+=a}e.putImageData(f,t,r)}(u,0,0,i,c,r,a)}};t.default=a,e.exports=t.default}])});